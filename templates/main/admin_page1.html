{% extends 'base/base.html' %}


{% block content %}
<style>
  .activee-date{
    background-color:#355E3B;
    color:#fff !important;
    cursor: pointer
  }
  
  .active-date{
    cursor: pointer !important;
  }
  
  .disabled-date { 
    pointer-events: none; 
    cursor: not-allowed !important;
    text-decoration: line-through solid red; 
  }
  
  .buttons-div{
    padding: 10px
  }
.ftco-section {
    padding: 7em 0; }
    .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto; }
        @media (min-width: 576px) {
          .container {
            max-width: 540px; } }
        @media (min-width: 768px) {
          .container {
            max-width: 720px; } }
        @media (min-width: 992px) {
          .container {
            max-width: 960px; } }
        @media (min-width: 1200px) {
          .container {
            max-width: 1140px; } }
            .row {
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                -ms-flex-wrap: wrap;
                flex-wrap: wrap;
                margin-right: -15px;
                margin-left: -15px; }
                .calendar-container {
                    position: relative;
                    margin: 0 auto;
                    height: 100%;
                    width: 50%;
                    background: #fff;
                    font: 13px Helvetica, Arial, san-serif;
                    display: inline-block;
                    /* padding: 30px; */
                    /* float: left; */
                   }
                    @media (max-width: 991.98px) {
                      .calendar-container {
                        padding: 0; } }
                    @media (max-width: 767.98px) {
                      .calendar-container {
                        padding: 0;
                        width: 100%; } }
                  
                  .calendar-container:after {
                    clear: both; }
                    .calendar {
                        width: 100%;
                        padding: 0; }
                        .year-header {
                            background: #fff;
                            height: 40px;
                            text-align: center;
                            position: relative;
                            color: #fff;
                            border-top-left-radius: 3px;
                            margin-top: 20px; }
                          
                          .year-header span {
                            display: inline-block;
                            font-size: 20px;
                            line-height: 40px;
                            color: #000; }
                            .left-button, .right-button {
                                cursor: pointer;
                                width: 28px;
                                text-align: center;
                                position: absolute;
                                color: #cccccc !important;
                                -webkit-transition: 0.3s;
                                -o-transition: 0.3s;
                                transition: 0.3s;
                                font-size: 14px !important; }
                                @media (prefers-reduced-motion: reduce) {
                                  .left-button, .right-button {
                                    -webkit-transition: none;
                                    -o-transition: none;
                                    transition: none; } }
                                .left-button:hover, .right-button:hover {
                                  color: #7e0cf5 !important; }
                              
                              .left-button {
                                left: 0; }
                              
                              .right-button {
                                right: 0;
                                top: 0; }
                                .days-table, .dates-table, .months-table {
                                    border-collapse: separate;
                                    text-align: center; }
                                  
                                  .day {
                                    height: 26px;
                                    width: 26px;
                                    padding: 0 10px;
                                    line-height: 26px;
                                    border: 2px solid transparent;
                                    text-transform: uppercase;
                                    font-size: 10px;
                                    color: #000; }
                                  
                                  .month {
                                    cursor: default;
                                    height: 26px;
                                    width: 26px;
                                    padding: 0 2px;
                                    padding-top: 10px;
                                    line-height: 26px;
                                    text-transform: uppercase;
                                    font-size: 11px;
                                    color: #cccccc;
                                    -webkit-transition: all 250ms;
                                    -o-transition: all 250ms;
                                    transition: all 250ms; }
                                    @media (max-width: 991.98px) {
                                      .month {
                                        font-size: 8px; } }
                                    @media (max-width: 767.98px) {
                                      .month {
                                        font-size: 10.5px; } }
                                  
                                  .active-month {
                                    font-weight: 700;
                                    color: #000; }
                                  
                                  .month:hover {
                                    color: #cd4dcc; }
                                  
                                  /*  Dates table */
                                  .table-date {
                                    cursor: default;
                                    color: #2b2b2b;
                                    height: 26px;
                                    width: 26px;
                                    font-size: 15px;
                                    padding: 10px;
                                    line-height: 26px;
                                    text-align: center;
                                    border-radius: 50%;
                                    border: 2px solid transparent;
                                    -webkit-transition: all 250ms;
                                    -o-transition: all 250ms;
                                    transition: all 250ms;
                                    position: relative; }
                                  
                                  .table-date:not(.nil):hover {
                                    border-color: #cd4dcc; }
                                  
                                  .event-date {
                                    border-color: #7e0cf5;
                                    background: #7e0cf5;
                                    color: #fff; }
                                    .event-date:after {
                                      position: absolute;
                                      top: 0;
                                      left: 0;
                                      width: 10px;
                                      height: 10px;
                                      border-radius: 50%;
                                      content: '';
                                      background: #28a745; }
                                  
                                  .active-date {
                                    background: #cd4dcc;
                                    color: #fff; }
                                  
                                  .event-date.active-date {
                                    background: #7e0cf5; }
                                    table {
                                        border-collapse: collapse; }
                                        .table {
                                            width: 100%;
                                            margin-bottom: 1rem;
                                            color: #212529; }
                                            .table th,
                                            .table td {
                                              padding: 0.75rem;
                                              vertical-align: top;
                                              border-top: 1px solid #dee2e6; }
                                            .table thead th {
                                              vertical-align: bottom;
                                              border-bottom: 2px solid #dee2e6; }
                                            .table tbody + tbody {
                                              border-top: 2px solid #dee2e6; }
                                          
                                          .table-sm th,
                                          .table-sm td {
                                            padding: 0.3rem; }
                                          
                                          .table-bordered {
                                            border: 1px solid #dee2e6; }
                                            .table-bordered th,
                                            .table-bordered td {
                                              border: 1px solid #dee2e6; }
                                            .table-bordered thead th,
                                            .table-bordered thead td {
                                              border-bottom-width: 2px; }
                                          
                                          .table-borderless th,
                                          .table-borderless td,
                                          .table-borderless thead th,
                                          .table-borderless tbody + tbody {
                                            border: 0; }
                                          
                                          .table-striped tbody tr:nth-of-type(odd) {
                                            background-color: rgba(0, 0, 0, 0.05); }
                                          
                                          .table-hover tbody tr:hover {
                                            color: #212529;
                                            background-color: rgba(0, 0, 0, 0.075); }
                                          
                                          .table-primary,
                                          .table-primary > th,
                                          .table-primary > td {
                                            background-color: #b8daff; }
                                          
                                          .table-primary th,
                                          .table-primary td,
                                          .table-primary thead th,
                                          .table-primary tbody + tbody {
                                            border-color: #7abaff; }
                                          
                                          .table-hover .table-primary:hover {
                                            background-color: #9fcdff; }
                                            .table-hover .table-primary:hover > td,
                                            .table-hover .table-primary:hover > th {
                                              background-color: #9fcdff; }
                                          
                                          .table-secondary,
                                          .table-secondary > th,
                                          .table-secondary > td {
                                            background-color: #d6d8db; }
                                          
                                          .table-secondary th,
                                          .table-secondary td,
                                          .table-secondary thead th,
                                          .table-secondary tbody + tbody {
                                            border-color: #b3b7bb; }
                                          
                                          .table-hover .table-secondary:hover {
                                            background-color: #c8cbcf; }
                                            .table-hover .table-secondary:hover > td,
                                            .table-hover .table-secondary:hover > th {
                                              background-color: #c8cbcf; }
                                          
                                          .table-success,
                                          .table-success > th,
                                          .table-success > td {
                                            background-color: #c3e6cb; }
                                          
                                          .table-success th,
                                          .table-success td,
                                          .table-success thead th,
                                          .table-success tbody + tbody {
                                            border-color: #8fd19e; }
                                          
                                          .table-hover .table-success:hover {
                                            background-color: #b1dfbb; }
                                            .table-hover .table-success:hover > td,
                                            .table-hover .table-success:hover > th {
                                              background-color: #b1dfbb; }
                                          
                                          .table-info,
                                          .table-info > th,
                                          .table-info > td {
                                            background-color: #bee5eb; }
                                          
                                          .table-info th,
                                          .table-info td,
                                          .table-info thead th,
                                          .table-info tbody + tbody {
                                            border-color: #86cfda; }
                                          
                                          .table-hover .table-info:hover {
                                            background-color: #abdde5; }
                                            .table-hover .table-info:hover > td,
                                            .table-hover .table-info:hover > th {
                                              background-color: #abdde5; }
                                          
                                          .table-warning,
                                          .table-warning > th,
                                          .table-warning > td {
                                            background-color: #ffeeba; }
                                          
                                          .table-warning th,
                                          .table-warning td,
                                          .table-warning thead th,
                                          .table-warning tbody + tbody {
                                            border-color: #ffdf7e; }
                                          
                                          .table-hover .table-warning:hover {
                                            background-color: #ffe8a1; }
                                            .table-hover .table-warning:hover > td,
                                            .table-hover .table-warning:hover > th {
                                              background-color: #ffe8a1; }
                                          
                                          .table-danger,
                                          .table-danger > th,
                                          .table-danger > td {
                                            background-color: #f5c6cb; }
                                          
                                          .table-danger th,
                                          .table-danger td,
                                          .table-danger thead th,
                                          .table-danger tbody + tbody {
                                            border-color: #ed969e; }
                                          
                                          .table-hover .table-danger:hover {
                                            background-color: #f1b0b7; }
                                            .table-hover .table-danger:hover > td,
                                            .table-hover .table-danger:hover > th {
                                              background-color: #f1b0b7; }
                                          
                                          .table-light,
                                          .table-light > th,
                                          .table-light > td {
                                            background-color: #fdfdfe; }
                                          
                                          .table-light th,
                                          .table-light td,
                                          .table-light thead th,
                                          .table-light tbody + tbody {
                                            border-color: #fbfcfc; }
                                          
                                          .table-hover .table-light:hover {
                                            background-color: #ececf6; }
                                            .table-hover .table-light:hover > td,
                                            .table-hover .table-light:hover > th {
                                              background-color: #ececf6; }
                                          
                                          .table-dark,
                                          .table-dark > th,
                                          .table-dark > td {
                                            background-color: #c6c8ca; }
                                          
                                          .table-dark th,
                                          .table-dark td,
                                          .table-dark thead th,
                                          .table-dark tbody + tbody {
                                            border-color: #95999c; }
                                          
                                          .table-hover .table-dark:hover {
                                            background-color: #b9bbbe; }
                                            .table-hover .table-dark:hover > td,
                                            .table-hover .table-dark:hover > th {
                                              background-color: #b9bbbe; }
                                          
                                          .table-active,
                                          .table-active > th,
                                          .table-active > td {
                                            background-color: rgba(0, 0, 0, 0.075); }
                                          
                                          .table-hover .table-active:hover {
                                            background-color: rgba(0, 0, 0, 0.075); }
                                            .table-hover .table-active:hover > td,
                                            .table-hover .table-active:hover > th {
                                              background-color: rgba(0, 0, 0, 0.075); }
                                          
                                          .table .thead-dark th {
                                            color: #fff;
                                            background-color: #343a40;
                                            border-color: #454d55; }
                                          
                                          .table .thead-light th {
                                            color: #495057;
                                            background-color: #e9ecef;
                                            border-color: #dee2e6; }
                                          
                                          .table-dark {
                                            color: #fff;
                                            background-color: #343a40; }
                                            .table-dark th,
                                            .table-dark td,
                                            .table-dark thead th {
                                              border-color: #454d55; }
                                            .table-dark.table-bordered {
                                              border: 0; }
                                            .table-dark.table-striped tbody tr:nth-of-type(odd) {
                                              background-color: rgba(255, 255, 255, 0.05); }
                                            .table-dark.table-hover tbody tr:hover {
                                              color: #fff;
                                              background-color: rgba(255, 255, 255, 0.075); }
                                          
                                          @media (max-width: 575.98px) {
                                            .table-responsive-sm {
                                              display: block;
                                              width: 100%;
                                              overflow-x: auto;
                                              -webkit-overflow-scrolling: touch; }
                                              .table-responsive-sm > .table-bordered {
                                                border: 0; } }
                                          
                                          @media (max-width: 767.98px) {
                                            .table-responsive-md {
                                              display: block;
                                              width: 100%;
                                              overflow-x: auto;
                                              -webkit-overflow-scrolling: touch; }
                                              .table-responsive-md > .table-bordered {
                                                border: 0; } }
                                          
                                          @media (max-width: 991.98px) {
                                            .table-responsive-lg {
                                              display: block;
                                              width: 100%;
                                              overflow-x: auto;
                                              -webkit-overflow-scrolling: touch; }
                                              .table-responsive-lg > .table-bordered {
                                                border: 0; } }
                                          
                                          @media (max-width: 1199.98px) {
                                            .table-responsive-xl {
                                              display: block;
                                              width: 100%;
                                              overflow-x: auto;
                                              -webkit-overflow-scrolling: touch; }
                                              .table-responsive-xl > .table-bordered {
                                                border: 0; } }
                                          
                                          .table-responsive {
                                            display: block;
                                            width: 100%;
                                            overflow-x: auto;
                                            -webkit-overflow-scrolling: touch; }
                                            .table-responsive > .table-bordered {
                                              border: 0; }
                                              .month {
                                                cursor: default;
                                                height: 26px;
                                                width: 26px;
                                                padding: 0 2px;
                                                padding-top: 10px;
                                                line-height: 26px;
                                                text-transform: uppercase;
                                                font-size: 11px;
                                                color: #cccccc;
                                                -webkit-transition: all 250ms;
                                                -o-transition: all 250ms;
                                                transition: all 250ms; }
                                                @media (max-width: 991.98px) {
                                                  .month {
                                                    font-size: 8px; } }
                                                @media (max-width: 767.98px) {
                                                  .month {
                                                    font-size: 10.5px; } }
                                              
                                              .active-month {
                                                font-weight: 700;
                                                color: #000; }
                                              
                                              .month:hover {
                                                color: #cd4dcc; }  
                                                .days-table, .dates-table, .months-table {
                                                    border-collapse: separate;
                                                    text-align: center; }
                                                    input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"] {
  -webkit-appearance: listbox; }
  .days-table, .dates-table, .months-table {
    border-collapse: separate;
    text-align: center; }   
    .buttons-div{
        padding: 10px
      }
      #cancel-button {
        background: #cd4dcc; }
      
      #add-button {
        background-color: green !important;
       }
      
      #add-button:hover, #ok-button:hover, #cancel-button:hover {
        -webkit-transform: scale(1.03);
        -ms-transform: scale(1.03);
        transform: scale(1.03); }
      
      #add-button:active, #ok-button:active, #cancel-button:active {
        -webkit-transform: translateY(3px) scale(0.97);
        -ms-transform: translateY(3px) scale(0.97);
        transform: translateY(3px) scale(0.97); }                                                                                                                                                   
</style>

<!-- Table for search starts here -->
<div class="container-xxl pt-2 pb-3">
  <div class="container">
    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
      <h3 class="section-title ff-secondary text-center text-primary font-monospace">Registered Users</h3>
    </div>
    <div class="row g-5">
      <div class="card shadow wow fadeInUp" data-wow-delay="0.1s">
        <div class="card-body table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">S/N</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Department</th>
                <th scope="col">Unit</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody class="table-group-divider">
              {% for user in users %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.department.title }}</td>
                <td>{{ user.unit.title }}</td>
                <td>
                  <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><i class="fas fa-pencil-alt"></i></a>
                    <div class="dropdown-menu m-0">
                      <a href="#" class="dropdown-item" data-bs-toggle="modal" data-bs-target="#calendarModal{{ user.id }}">Select Dates</a>
                    </div>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
     
              <!-- Calendar Modal -->
              <div class="modal fade" id="calendarModal{{ user.id }}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="calendarModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content bg-dark">
                    <div class="modal-header text-light">
                      <h5 class="modal-title text-white" id="calendarModalLabel">Select Call Roster Dates for {{ user.username }}</h5>
                      <button type="button" class="btn-close bg-primary" data-bs-dismiss="modal" aria-label="Close"></button>
                   
                    </div>
                    <div class="modal-body"> 
                        <!-- Start of calendar -->
                        <div class="calendar-container">
                          <div class="calendar">
                            <div class="year-header">
                              <span class="left-button fa fa-chevron-left" id="prev">
                              </span>
                              <span class="year" id="label"></span>
                              <span class="right-button fa fa-chevron-right" id="next">
                              </span>
                            </div>
                            <table class="months-table w-100">
                              <tbody>
                                <tr class="months-row">
                                  <td class="month">Jan</td>
                                  <td class="month">Feb</td>
                                  <td class="month">Mar</td>
                                  <td class="month">Apr</td>
                                  <td class="month">May</td>
                                  <td class="month">Jun</td>
                                  <td class="month">Jul</td>
                                  <td class="month">Aug</td>
                                  <td class="month">Sep</td>
                                  <td class="month">Oct</td>
                                  <td class="month">Nov</td>
                                  <td class="month">Dec</td>
                                </tr>
                              </tbody>
                            </table>
            
                            <table class="days-table w-100">
                              <td class="day">Sun</td>
                              <td class="day">Mon</td>
                              <td class="day">Tue</td>
                              <td class="day">Wed</td>
                              <td class="day">Thu</td>
                              <td class="day">Fri</td>
                              <td class="day">Sat</td>
                            </table>
                            <div class="frame">
                              <table class="dates-table w-100">
                                <tbody class="tbody"></tbody>
                              </table>
                            </div>
                            <div class="buttons-div d-flex justify-content-between">
                              <button class="button" id="cancel-button">Clear Call</button>
                              <button class="button" id="add-button">Confirm Call </button>
                            </div>
                          </div>
                          <!-- end of calendar -->
                          
                        </div>
                        <form method="POST" action="" style="display: none;">
                          {% csrf_token %}
                        <input type="hidden" name="user" value="{{ user.id }}">
                        <input type="hidden" name="dateObj" id="" value="{{ user.id }}">
                      </form>
                    </div>
                  </div>
                  
                </div>
              </div>
              <!-- End Calendar Modal -->
            
            </div>
      </div>
    </div>
  </div>
</div>
<!-- Search table ends here -->

<!-- <script src="/static/js/calendar.js"></script> -->
{% endblock content %}
